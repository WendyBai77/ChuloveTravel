import{g as d,m as u,_ as x,r as _,o as r,c as n,b as p,a as e,d as h,t as i,n as C,l as f,v as g,F as a,j as v,w,i as S}from"./index-31dcab3a.js";import{c as T}from"./cartStore-5aa08176.js";import{p as b}from"./productsStore-cce5bfa0.js";import{c as y}from"./collectionsStore-a38c446d.js";const V={props:["explore"],data(){return{renderProduct:[],categories:["行程","住宿","景點門票"],category:"",selectSort:"default",area:["台北","新北","基隆","桃園","新竹","苗栗","台中","南投","彰化","雲林","嘉義","台南","高雄","屏東","宜蘭","花蓮","台東","澎湖","金門","馬祖","綠島","蘭嶼","龜山島","小琉球"],city:""}},methods:{...d(T,["addToCart"]),...d(b,["getProducts","getRecommendProduct"]),...d(y,["toggleFollow"]),selectArea(){this.renderProduct=this.recommendProducts.filter(s=>s.title.match(this.city))},sortProduct(){this.selectSort==="expensiveToCheap"?this.renderProduct.sort((s,o)=>o.price-s.price):this.selectSort==="cheapToExpensive"&&this.renderProduct.sort((s,o)=>s.price-o.price)}},computed:{...u(b,["products","isLoading","fullPage","color","recommendProducts"]),...u(y,["followIds"])},watch:{products(){this.getRecommendProduct(this.explore.engTitle),this.renderProduct=this.recommendProducts}},mounted(){this.getProducts()}},L={class:"banner-recommend-content banner-content-products"},j={class:"text-gary-100 mb-4"},A=e("span",null,"推薦專區",-1),F={class:"container"},R={class:"row py-lg-3 recommend-sidebar"},U={class:"col-lg-3 mb-6"},B={action:"",class:"border border-primary px-3 py-4 rounded-3 sidebar-sticky"},D=e("p",{class:"mb-3"},"篩選地區",-1),E=e("option",{value:"",disabled:""},"請選擇地區",-1),N=["value"],I={class:"container col-lg-9"},M={class:"d-flex justify-content-end mb-lg-4 mb-3"},z=e("option",{disabled:"",value:"default"},"產品預設排列",-1),O=e("option",{value:"cheapToExpensive"},"價格：低至高",-1),W=e("option",{value:"expensiveToCheap"},"價格：高至低",-1),q=[z,O,W],G={key:0,class:"my-7 text-center"},H={key:1,class:"products mb-7"},J=["src"],K={class:"card-body ps-md-5 pe-md-6 d-flex flex-column justify-content-between"},Q={class:"card-title mb-3"},X={class:"truncate-multiline mb-4"},Y={class:"d-flex justify-content-end"},Z={class:"card-price"},$={class:"fs-6"},ee=["onClick"],te={key:0,class:"fa-regular fa-heart"},oe={key:1,class:"fa-solid fa-heart collect"},se=["onClick"],re=e("i",{class:"bi bi-cart-fill"},null,-1),ne=[re];function ce(s,o,m,ie,c,l){const P=_("VueLoading"),k=_("router-link");return r(),n(a,null,[p(P,{active:s.isLoading,"onUpdate:active":o[0]||(o[0]=t=>s.isLoading=t),color:s.color,"is-full-page":s.fullPage},null,8,["active","color","is-full-page"]),e("div",{class:C(["banner-recommend container mb-5 gx-0",`banner-recommend-${m.explore.engTitle}`])},[e("div",L,[e("h2",j,[A,h(" "+i(m.explore.title),1)])])],2),e("div",F,[e("div",R,[e("div",U,[e("form",B,[D,f(e("select",{class:"form-select border-primary rounded-3",onChange:o[1]||(o[1]=(...t)=>l.selectArea&&l.selectArea(...t)),"onUpdate:modelValue":o[2]||(o[2]=t=>c.city=t)},[E,(r(!0),n(a,null,v(c.area,t=>(r(),n("option",{key:t,value:t},i(t),9,N))),128))],544),[[g,c.city]])])]),e("div",I,[e("div",M,[f(e("select",{class:"products-select text-center",name:"productsSort","onUpdate:modelValue":o[3]||(o[3]=t=>c.selectSort=t),onChange:o[4]||(o[4]=(...t)=>l.sortProduct&&l.sortProduct(...t))},q,544),[[g,c.selectSort]])]),c.renderProduct.length===0?(r(),n("h2",G,"無相符產品")):(r(),n("ul",H,[(r(!0),n(a,null,v(c.renderProduct,t=>(r(),n("li",{class:"mb-3",key:t.id},[p(k,{class:"card card-row",to:`/product/${t.id}`},{default:w(()=>[e("img",{class:"card-row-img object-cover",src:t.imageUrl},null,8,J),e("div",K,[e("div",null,[e("h2",Q,i(t.title),1),e("p",X,i(t.description),1)]),e("div",Y,[e("div",Z,[e("p",$,[h(" TWD "),e("span",null,i(t.price),1)])])])])]),_:2},1032,["to"]),e("a",{class:"like-icon",href:"#",onClick:S(le=>s.toggleFollow(t.id),["prevent"])},[s.followIds.indexOf(t.id)===-1?(r(),n("i",te)):(r(),n("i",oe))],8,ee),e("button",{type:"button",class:"ms-2 border-0 p-0",onClick:()=>s.addToCart(t.id)},ne,8,se)]))),128))]))])])])],64)}const _e=x(V,[["render",ce]]);export{_e as R};
