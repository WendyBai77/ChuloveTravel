import{G as i,H as o}from"./index-8e6ca9d0.js";import{S as c}from"./sweetalert2.all-c2759fe7.js";import{c as d}from"./collectionsStore-8ed1d3da.js";const l=d(),{VITE_API:a,VITE_PATH:u}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wendybai",BASE_URL:"/ChuloveTravel/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},f=i("productsStore",{state:()=>({products:[],selectSort:"default",isLoading:!1,fullPage:!0,color:"#ACB1E7",filterCategory:"全部商品",categories:["全部商品","行程","住宿","景點門票"],cityProducts:[],recommendProducts:[],natureKeyword:["體驗","林","山","鹽田"],exhibitionKeyword:["展","展覽"],hotelKeyword:["住宿","民宿"],campKeyword:["露營"],paradiseKeyword:["樂園","城堡","文化村"],islandKeyword:["澎湖","金門","馬祖","綠島","蘭嶼","龜山島","小琉球"]}),actions:{getProducts(){this.isLoading=!0,o.get(`${a}/api/${u}/products/all`).then(e=>{const{products:t}=e.data;this.products=t,l.tempProducts(this.products),this.isLoading=!1}).catch(e=>{var r,s;const t=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.message)||"資料取得失敗，請稍後再試";this.isLoading=!1,c.fire({icon:"error",title:t})})},changeCategory(e){this.filterCategory=e},sortProduct(){let e=this.products;this.filterCategory!=="全部商品"&&(e=this.products.filter(t=>t.category===this.filterCategory)),this.selectSort==="expensiveToCheap"?e.sort((t,r)=>r.price-t.price):this.selectSort==="cheapToExpensive"&&e.sort((t,r)=>t.price-r.price)},getCityProduct(e){this.cityProducts=this.products.filter(t=>t.title.match(e))},getRecommendProduct(e){e==="nature"?this.recommendProducts=this.products.filter(t=>this.natureKeyword.some(r=>t.title.includes(r))):e==="exhibition"?this.recommendProducts=this.products.filter(t=>this.exhibitionKeyword.some(r=>t.title.includes(r))):e==="hotel"?this.recommendProducts=this.products.filter(t=>this.hotelKeyword.some(r=>t.title.includes(r))):e==="camp"?this.recommendProducts=this.products.filter(t=>this.campKeyword.some(r=>t.title.includes(r))):e==="theme-park"?this.recommendProducts=this.products.filter(t=>this.paradiseKeyword.some(r=>t.title.includes(r))):e==="island"&&(this.recommendProducts=this.products.filter(t=>this.islandKeyword.some(r=>t.title.includes(r))))}},getters:{filterProducts:e=>e.products.filter(r=>e.filterCategory==="全部商品"?e.products:r.category===e.filterCategory)}});export{f as p};
