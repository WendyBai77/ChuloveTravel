import{s as o,u as i}from"./index-62ce10a4.js";import{S as c}from"./sweetalert2.all-8f5eafcc.js";import{c as l}from"./collectionsStore-f15c3cbc.js";const d=l(),{VITE_API:a,VITE_PATH:u}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wendybai",BASE_URL:"/ChuloveTravel/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},f=o("productsStore",{state:()=>({products:[],selectSort:"default",isLoading:!1,fullPage:!0,color:"#ACB1E7",filterCategory:"全部商品",categories:["全部商品","行程","住宿","景點門票"],cityProducts:[],recommendProducts:[],natureKeyword:["體驗","林","山","鹽田"],exhibitionKeyword:["展","展覽"],hotelKeyword:["住宿","民宿"],campKeyword:["露營"],paradiseKeyword:["樂園","城堡","文化村"],islandKeyword:["澎湖","金門","馬祖","綠島","蘭嶼","龜山島","小琉球"]}),actions:{getProducts(){this.isLoading=!0,window.scrollTo({top:0,behavior:"smooth"}),i.get(`${a}/api/${u}/products/all`).then(t=>{const{products:e}=t.data;this.products=e,console.log("this.products",this.products),d.tempProducts(this.products),this.isLoading=!1}).catch(t=>{var r,s;console.log(t.response.data.message);const e=((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||"資料取得失敗，請稍後再試";this.isLoading=!1,c.fire({icon:"error",title:e})})},changeCategory(t){this.filterCategory=t},sortProduct(){let t=this.products;this.filterCategory!=="全部商品"&&(t=this.products.filter(e=>e.category===this.filterCategory)),this.selectSort==="expensiveToCheap"?t.sort((e,r)=>r.price-e.price):this.selectSort==="cheapToExpensive"&&t.sort((e,r)=>e.price-r.price)},getCityProduct(t){this.cityProducts=this.products.filter(e=>e.title.match(t))},getRecommendProduct(t){t==="nature"?this.recommendProducts=this.products.filter(e=>this.natureKeyword.some(r=>e.title.includes(r))):t==="exhibition"?this.recommendProducts=this.products.filter(e=>this.exhibitionKeyword.some(r=>e.title.includes(r))):t==="hotel"?this.recommendProducts=this.products.filter(e=>this.hotelKeyword.some(r=>e.title.includes(r))):t==="camp"?this.recommendProducts=this.products.filter(e=>this.campKeyword.some(r=>e.title.includes(r))):t==="theme-park"?this.recommendProducts=this.products.filter(e=>this.paradiseKeyword.some(r=>e.title.includes(r))):t==="island"&&(this.recommendProducts=this.products.filter(e=>this.islandKeyword.some(r=>e.title.includes(r))))}},getters:{filterProducts:t=>t.products.filter(r=>t.filterCategory==="全部商品"?t.products:r.category===t.filterCategory)}});export{f as p};
