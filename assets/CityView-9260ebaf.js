import{_ as P,g as a,m as u,r as h,o as c,c as r,b as _,a as t,d as p,t as n,A as k,B as g,C as m,F as d,j as y,w,i as T}from"./index-8e6ca9d0.js";import{c as x}from"./cartStore-7f5a35e0.js";import{p as f}from"./productsStore-6a319a0b.js";import{c as v}from"./collectionsStore-8ed1d3da.js";import"./sweetalert2.all-c2759fe7.js";const S={data(){return{city:{title:"",engTitle:""},renderProduct:[],categories:["行程","住宿","景點門票"],category:"",selectSort:"default"}},methods:{...a(x,["addToCart"]),...a(f,["getProducts","getCityProduct"]),...a(v,["toggleFollow"]),selectCity(s){s==="hualien"?(this.city.title="花蓮",this.city.engTitle="hualien"):s==="kaohsiung"?(this.city.title="高雄",this.city.engTitle="kaohsiung"):s==="nantou"?(this.city.title="南投",this.city.engTitle="nantou"):s==="taichung"&&(this.city.title="台中",this.city.engTitle="taichung")},selectCategory(s){this.renderProduct=this.cityProducts.filter(o=>o.category.match(s))},sortProduct(){this.selectSort==="expensiveToCheap"?this.renderProduct.sort((s,o)=>o.price-s.price):this.selectSort==="cheapToExpensive"&&this.renderProduct.sort((s,o)=>s.price-o.price)}},computed:{...u(f,["products","isLoading","fullPage","color","cityProducts"]),...u(v,["followIds"])},watch:{products(){this.getCityProduct(this.city.title),this.renderProduct=this.cityProducts}},mounted(){this.getProducts();const{name:s}=this.$route.params;this.selectCity(s)}},V={class:"banner-category-content banner-content-products"},L={class:"text-gary-100 mb-4"},j=t("span",null,"推薦景點行程",-1),B={class:"container"},F={class:"row py-lg-3 city-sidebar"},U={class:"col-lg-3 mb-6"},D={action:"",class:"border border-primary px-3 py-4 rounded-3 sidebar-sticky"},E=t("p",{class:"mb-3"},"篩選分類",-1),N=t("option",{value:"",disabled:""},"請選擇類別",-1),A=["value"],I={class:"container col-lg-9"},M={class:"d-flex justify-content-end mb-lg-4 mb-3"},z=t("option",{disabled:"",value:"default"},"產品預設排列",-1),O=t("option",{value:"cheapToExpensive"},"價格：低至高",-1),W=t("option",{value:"expensiveToCheap"},"價格：高至低",-1),q=[z,O,W],G={key:0,class:"my-7 text-center"},H={key:1,class:"products mb-7"},J=["src"],K={class:"card-body ps-md-5 pe-md-6 d-flex flex-column justify-content-between"},Q={class:"card-title mb-3"},R={class:"truncate-multiline mb-4"},X={class:"d-flex justify-content-end"},Y={class:"card-price"},Z={class:"fs-6"},$=["onClick"],tt={key:0,class:"fa-regular fa-heart"},et={key:1,class:"fa-solid fa-heart collect"},st=["onClick"],ot=t("i",{class:"bi bi-cart-fill"},null,-1),it=[ot];function ct(s,o,rt,nt,i,l){const b=h("VueLoading"),C=h("router-link");return c(),r(d,null,[_(b,{active:s.isLoading,"onUpdate:active":o[0]||(o[0]=e=>s.isLoading=e),color:s.color,"is-full-page":s.fullPage},null,8,["active","color","is-full-page"]),t("div",{class:k(["banner-category container mb-5 gx-0",`banner-category-${i.city.engTitle}`])},[t("div",V,[t("h2",L,[p(n(i.city.title),1),j])])],2),t("div",B,[t("div",F,[t("div",U,[t("form",D,[E,g(t("select",{class:"form-select border-primary rounded-3",onChange:o[1]||(o[1]=e=>l.selectCategory(i.category)),"onUpdate:modelValue":o[2]||(o[2]=e=>i.category=e)},[N,(c(!0),r(d,null,y(i.categories,e=>(c(),r("option",{key:e,value:e},n(e),9,A))),128))],544),[[m,i.category]])])]),t("div",I,[t("div",M,[g(t("select",{class:"products-select text-center",name:"productsSort","onUpdate:modelValue":o[3]||(o[3]=e=>i.selectSort=e),onChange:o[4]||(o[4]=(...e)=>l.sortProduct&&l.sortProduct(...e))},q,544),[[m,i.selectSort]])]),i.renderProduct.length===0?(c(),r("h2",G,"無相符產品")):(c(),r("ul",H,[(c(!0),r(d,null,y(i.renderProduct,e=>(c(),r("li",{class:"mb-3",key:e.id},[_(C,{class:"card card-row",to:`/product/${e.id}`},{default:w(()=>[t("img",{class:"card-row-img object-cover",src:e.imageUrl},null,8,J),t("div",K,[t("div",null,[t("h2",Q,n(e.title),1),t("p",R,n(e.description),1)]),t("div",X,[t("div",Y,[t("p",Z,[p(" TWD "),t("span",null,n(e.price),1)])])])])]),_:2},1032,["to"]),t("a",{class:"like-icon",href:"#",onClick:T(lt=>s.toggleFollow(e.id),["prevent"])},[s.followIds.indexOf(e.id)===-1?(c(),r("i",tt)):(c(),r("i",et))],8,$),t("button",{type:"button",class:"ms-2 border-0 p-0",onClick:()=>s.addToCart(e.id)},it,8,st)]))),128))]))])])])],64)}const pt=P(S,[["render",ct]]);export{pt as default};
