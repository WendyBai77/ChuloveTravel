import{S as v}from"./sweetalert2.all-2615de33.js";import{_ as w,r as l,o as b,c as V,b as t,a as s,w as u,F as y,n as p,d as x}from"./index-ed36fbc0.js";const{VITE_API:E}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wendybai",BASE_URL:"/ChuloveTravel/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},L={data(){return{user:{username:"",password:""},isLoading:!1,fullPage:!0,color:"#ACB1E7"}},methods:{signIn(){this.isLoading=!0;const i=`${E}/admin/signin`;this.$http.post(i,this.user).then(e=>{const{token:r,expired:c}=e.data;document.cookie=`wendyToken=${r}; expires=${new Date(c)}`,console.log(e),this.isLoading=!1,this.$router.push("/admin/products")}).catch(e=>{this.isLoading=!1,v.fire({icon:"error",title:e.response.data.message})})}}},k={class:"login container"},I=s("h1",{class:"h3 my-6 font-weight-normal text-center"},"登入",-1),T={class:"my-5 row justify-content-center"},P={class:"mb-4"},S=s("label",{for:"email",class:"form-label"},"Email",-1),A={class:"mb-4"},B=s("label",{for:"password",class:"form-label"},"密碼",-1),C=s("button",{type:"submit",class:"btn btn-primary w-100 mt-5"},"登入",-1),D={class:"d-flex justify-content-center"};function U(i,e,r,c,o,_){const f=l("VueLoading"),d=l("v-field"),m=l("error-message"),g=l("v-form"),h=l("router-link");return b(),V(y,null,[t(f,{active:o.isLoading,"onUpdate:active":e[0]||(e[0]=n=>o.isLoading=n),color:o.color,"is-full-page":o.fullPage},null,8,["active","color","is-full-page"]),s("div",k,[I,s("div",T,[t(g,{ref:"form",class:"col-lg-4 col-9 login-form px-4 py-4",onSubmit:e[3]||(e[3]=n=>_.signIn())},{default:u(({errors:n})=>[s("div",P,[S,t(d,{id:"email",name:"email",type:"email",class:p(["form-control",{"is-invalid":n.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:o.user.username,"onUpdate:modelValue":e[1]||(e[1]=a=>o.user.username=a)},null,8,["class","modelValue"]),t(m,{name:"email",class:"invalid-feedback"})]),s("div",A,[B,t(d,{id:"password",name:"password",type:"password",class:p(["form-control",{"is-invalid":n.password}]),placeholder:"請輸入密碼",rules:"required",modelValue:o.user.password,"onUpdate:modelValue":e[2]||(e[2]=a=>o.user.password=a)},null,8,["class","modelValue"]),t(m,{name:"password",class:"invalid-feedback"})]),C]),_:1},512)]),s("div",D,[t(h,{class:"btn btn-outline-gary-400 px-6 py-1 mb-6",to:"/"},{default:u(()=>[x("回首頁")]),_:1})])])],64)}const j=w(L,[["render",U]]);export{j as default};
